<!doctype html>
<html class="no-js">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>添加商品分类</title>
<meta name="description" content="这是一个 index 页面">
<meta name="keywords" content="index">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta http-equiv="Cache-Control" content="no-siteapp" />
<link rel="icon" type="image/png" href="assets/i/favicon.png">
<link rel="apple-touch-icon-precomposed" href="assets/i/app-icon72x72@2x.png">
<meta name="apple-mobile-web-app-title" content="Amaze UI" />
<link rel="stylesheet" href="assets/css/amazeui.min.css"/>
<link rel="stylesheet" href="assets/css/admin.css">
<script src="assets/js/jquery.min.js"></script>
<script src="assets/js/app.js"></script>
<link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
<!--<link rel="stylesheet" href="static/css/bootstrap.css" />-->
<script src="static/js/utils.js"></script>

</head>
<body>
<!--[if lte IE 9]><p class="browsehappy">升级你的浏览器吧！ <a href="http://se.360.cn/" target="_blank">升级浏览器</a>以获得更好的体验！</p><![endif]-->
<style>
    input[type="file"] {
        display: none;
    }
 
    .avatar-uploader .el-upload {
        border: 1px dashed #d9d9d9;
        border-radius: 6px;
        cursor: pointer;
        position: relative;
        overflow: hidden;
    }
 
    .avatar-uploader .el-upload:hover {
        border-color: #409EFF;
    }
 
    .avatar-uploader-icon {
        font-size: 28px;
        color: #8c939d;
        width: 178px;
        height: 178px;
        line-height: 178px;
        text-align: center;
    }
 
    .avatar {
        width: 178px;
        height: 178px;
        display: block;
    }
</style>






</head>

<body>
<header class="am-topbar admin-header">
  <div class="am-topbar-brand"><img src="assets/i/logo.png"></div>

  <div class="am-collapse am-topbar-collapse" id="topbar-collapse">
    <ul class="am-nav am-nav-pills am-topbar-nav admin-header-list">

   <li class="am-dropdown tognzhi" data-am-dropdown>
  <button class="am-btn am-btn-primary am-dropdown-toggle am-btn-xs am-radius am-icon-bell-o" data-am-dropdown-toggle> 消息管理<span class="am-badge am-badge-danger am-round">6</span></button>
  <ul class="am-dropdown-content">
  	
  	
  	
    <li class="am-dropdown-header">所有消息都在这里</li>

    

    <li><a href="#">未激活会员 <span class="am-badge am-badge-danger am-round">556</span></a></li>
    <li><a href="#">未激活代理 <span class="am-badge am-badge-danger am-round">69</span></a></a></li>
    <li><a href="#">未处理汇款</a></li>
    <li><a href="#">未发放提现</a></li>
    <li><a href="#">未发货订单</a></li>
    <li><a href="#">低库存产品</a></li>
    <li><a href="#">信息反馈</a></li>
    
    
    
  </ul>
</li>






  </div>
</header>

<div class="am-cf admin-main"> 


 <div class="nav-navicon admin-main admin-sidebar">
    
    
    <div class="sideMenu am-icon-dashboard" style="color:#aeb2b7; margin: 10px 0 0 0;"> 欢迎系统管理员</div>
    <div class="sideMenu" style="font-size: 1.4rem;">
    	<h3 class="am-icon-users"><em></em> <a href="#">用户管理</a></h3>
      <ul>
         <li class="func" dataType='html' dataLink='msn.htm' iconImg='images/msn.gif'><a href="用户列表.html">用户列表</a></li>
         <li class="func" dataType='html' dataLink='msn.htm' iconImg='images/msn.gif'><a href="添加用户.html">添加用户</a></li>
      </ul>
      <h3 class="am-icon-flag"><em></em> <a href="#">商品管理</a></h3>
      <ul>
        <li class="func" dataType='html' dataLink='msn.htm' iconImg='images/msn.gif'><a href="商品列表.html">商品列表</a></li>
        <li class="func" dataType='html' dataLink='msn.htm' iconImg='images/msn.gif'><a href="添加新商品.html">添加新商品</a></li>
        <li class="func" dataType='html' dataLink='msn.htm' iconImg='images/msn.gif'><a href="商品统计.html">商品统计</a></li>
      </ul>
        <h3 class="am-icon-gears on"><em></em> <a href="#">商品分类管理</a></h3>
      <ul>
        <li class="func" dataType='html' dataLink='msn.htm' iconImg='images/msn.gif'><a href="商品分类.html">商品分类</a></li>
         <li class="func" dataType='html' dataLink='msn.htm' iconImg='images/msn.gif'><a href="添加商品分类.html">添加商品分类</a></li>       
      </ul>    
      <h3 class="am-icon-cart-plus"><em></em> <a href="订单列表.html"> 订单管理</a></h3>
      <ul>
         <li class="func" dataType='html' dataLink='msn.htm' iconImg='images/msn.gif'><a href="订单列表.html">订单列表</a></li>
 				 <li class="func" dataType='html' dataLink='msn.htm' iconImg='images/msn.gif'><a href="订单统计.html">订单统计</a></li>
      </ul>
      <h3 class="am-icon-volume-up"><em></em> <a href="#">评论管理</a></h3>
      <ul>
         <li class="func" dataType='html' dataLink='msn.htm' iconImg='images/msn.gif'><a href="评论列表.html">评论列表</a></li>
 				 <li class="func" dataType='html' dataLink='msn.htm' iconImg='images/msn.gif'><a href="评论统计.html">评论统计</a></li>
      </ul>
    
    </div>
    <!-- sideMenu End --> 
    
   <script type="text/javascript">
			jQuery(".sideMenu").slide({
				titCell:"h3", //鼠标触发对象
				targetCell:"ul", //与titCell一一对应，第n个titCell控制第n个targetCell的显示隐藏
				effect:"slideDown", //targetCell下拉效果
				delayTime:300 , //效果时间
				triggerTime:150, //鼠标延迟触发时间（默认150）
				defaultPlay:true,//默认是否执行效果（默认true）
				returnDefault:true //鼠标从.sideMen移走后返回默认状态（默认false）
				});
		</script> 








</div>

</div>



<div class=" admin-content">
	
		<div class="daohang">
			<ul>
				<li><button type="button" class="am-btn am-btn-default am-radius am-btn-xs"> 首页 </li>
				<li><button type="button" class="am-btn am-btn-default am-radius am-btn-xs">用户管理<a href="javascript: void(0)" class="am-close am-close-spin" data-am-modal-close="">×</a></button></li>
				<li><button type="button" class="am-btn am-btn-default am-radius am-btn-xs">商品管理<a href="javascript: void(0)" class="am-close am-close-spin" data-am-modal-close="">×</a></button></li>
				<li><button type="button" class="am-btn am-btn-default am-radius am-btn-xs">订单管理<a href="javascript: void(0)" class="am-close am-close-spin" data-am-modal-close="">×</a></button></li>
				
				
			</ul>

       

	
</div>
	
	


<div class="admin-biaogelist">
	
    <div class="listbiaoti am-cf">
      <ul class="am-icon-flag on"> 添加分类</ul>
      
      <dl class="am-icon-home" style="float: right;"> 当前位置： 首页 > <a href="添加商品分类.html">添加分类</a></dl>
      
      <dl>
        
      </dl>
      
      
    </div>
        <div class="fbneirong">
  <div id="container">

<div class="box-container-bottom" style="margin-bottom: 15px;">
<div style="width: 1000px; text-align: center ; height: 500px;">
	 <el-form :model="insertCategoryFrom" ref="insertCategoryFrom" label-width="80px"  :rules="rules"  size="small" :label-position="labelPosition"  style="display: inline-block;">
												    <el-form-item label="分类名称" prop="categoryName"  style="width: 300px" required >
												      <el-input v-model="insertCategoryFrom.categoryName" autocomplete="off"  ></el-input>
												    </el-form-item>
													<el-form-item  prop="categoryLevel" label="分类级别"style="width: 300px;" required>
												  <el-select v-model="insertCategoryFrom.categoryLevel" placeholder="请选择">
												    <el-option
												      v-for="item in options1"
												      :key="item.value"
												      :label="item.label"
												      :value="item.value">
												    </el-option>
												  </el-select>
													  </el-form-item>															    
													<el-form-item  prop="parentId" label="父级类别"style="width: 300px;">
													  <el-cascader  
													      :change-on-select="true"
													      :props="defaultParams"
													      :options="options"
													      v-model="selectedOptions"
													      :clearable="true" :show-all-levels="false"
													      @change="addHandleTypeChange"
													      ref="cascaderAddr">
													     </el-cascader>
													  </el-form-item>

												    <el-form-item label="口号"  prop="categorySlogan" maxlength="10">
												      <el-input v-model="insertCategoryFrom.categorySlogan" autocomplete="off"></el-input>
												   </el-form-item>
												    <el-form-item label="背景颜色" prop="categoryBgColor">
												      <el-input v-model="insertCategoryFrom.categoryBgColor" autocomplete="off"></el-input>
												  
												  </el-form>
												    
												  </el-form></br>
												  <div style="display: inline-block;">
												    <el-button type="primary" @click="submitForm('insertCategoryFrom')" plain>添加分类</el-button>
												    </div>
</div>
</div>
</div>


</div>

</div>
</div>


 

    
    
    
    
    
    
    
</div>







</div>

</div>




</div>

<!--[if lt IE 9]>
<script src="http://libs.baidu.com/jquery/1.11.1/jquery.min.js"></script>
<script src="http://cdn.staticfile.org/modernizr/2.8.3/modernizr.js"></script>
<script src="assets/js/polyfill/rem.min.js"></script>
<script src="assets/js/polyfill/respond.min.js"></script>
<script src="assets/js/amazeui.legacy.js"></script>
<![endif]--> 

<!--<![endif]-->
<script src="assets/js/amazeui.min.js"></script>
<!--<![endif]-->
		<script type="text/javascript" src="static/js/cookie_utils.js" ></script>
		<script type="text/javascript" src="static/js/axios.min.js" ></script>
		<script type="text/javascript" src="static/js/vue.js" ></script>
		<!-- 引入组件库 -->
		<script src="https://unpkg.com/element-ui/lib/index.js"></script>
		<script type="text/javascript" src="static/js/base.js" ></script>
		<script type="text/javascript">
			var v = new Vue({
				el:"#container",
				data:{
					categoryId:"",
					size:'',
					input:'',
			        insertCategoryFrom:{
			        	categoryId:'',
			        	categoryName:'',
			        	categoryLevel:'',
			        	parentId:'',
			        	categoryIcon:'',
			        	categorySlogan:'',
			        	categoryPic:'',
			        	categoryBgColor:'',
			        },
					rules:{
						
					},
					ImgUrl:'',
					labelPosition:'left',
				     options:[],
				     selectedOptions: [],
				     defaultParams: {
				         label: 'categoryName',
				         value: 'categoryId',
				         children: 'categories'
				     },
					options1: [{
			          value: '1',
			          label: '一级分类'
			        }, {
			          value: '2',
			          label: '二级分类'
			        }, {
			          value: '3',
			          label: '三级分类'
			        },],				     
				},
				methods:{

           submitForm(formName) {
					console.log(this.insertCategoryFrom)
					console.log(this.defaultParams.children)
						var url5 = baseUrl+"category/insertCategory"
						axios({
							url:url5,
							method:"post",
							data:this.insertCategoryFrom
						})
       this.$message({
          message: '添加成功',
          type: 'success'
        });
               this.dialogFormVisible = false;

				 setTimeout(function (){
					window.location.href="商品分类.html";
				}, 500);
 
			
            },			
            
		  getProductType(){
            var url5 = baseUrl+"index/category-list"
					axios.get(url5).then((res)=>{
						console.log(res.data.data);
						this.options = res.data.data;
						//初始化分类列表的动画效果
					});
		  },
			addHandleTypeChange(value) {
				//vaue 选中的值
			   let labelData = this.$refs.cascaderAddr.getCheckedNodes()[0].pathLabels

			   this.insertCategoryFrom.parentId = value[value.length - 1]
			 },

  
            
            

				},
								filters: {
            time: (value) => {
            	return rTime(value);
            }
      },
      
   mounted() {
      // 调用方法获取所有数据
      this.getProductType();
   }
				

});

		</script>


</body>
</html>